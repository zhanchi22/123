<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>慢病健康监测系统 - 智能健康管理平台</title>
    <!-- 外部资源引入 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>

    <!-- Tailwind配置 -->
    <script>
		
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563EB',      // 主色调：专业蓝
                        secondary: '#3B82F6',    // 次要蓝
                        success: '#10B981',      // 成功绿
                        warning: '#F59E0B',      // 警告黄
                        danger: '#EF4444',       // 危险红
                        info: '#06B6D4',         // 信息青
                        dark: '#1E293B',         // 深色文本
                        light: '#F8FAFC',        // 浅色背景
                        'gray-custom': '#64748B' // 自定义灰色
                    },
                    fontFamily: {
                        sans: ['Inter', 'PingFang SC', 'Microsoft YaHei', 'Helvetica Neue', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'pulse-slow': 'pulse 3s infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- 自定义工具类与全局样式 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .card-shadow {
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            }
            .card-shadow-hover {
                box-shadow: 0 8px 30px rgba(37, 99, 235, 0.15);
            }
            .hover-scale {
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
            .hover-scale:hover {
                transform: scale(1.02);
            }
            .text-balance {
                text-wrap: balance;
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .bg-gradient-primary {
                background: linear-gradient(135deg, #2563EB 0%, #3B82F6 100%);
            }	
        }
        /* 全局样式重置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background-color: #F8FAFC;
            color: #1E293B;
        }

        /* 动画定义 */
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
            }
        }

        .pulse-animation {
            animation: pulse 2s infinite;
        }

        /* 进度条样式 */
        .progress-bar {
            transition: width 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* 图表容器样式 */
        .chart-container {
            position: relative;
            height: 100%;
            width: 100%;
        }

        /* 加载动画 */
        .loader {
            border-top-color: #2563EB;
            animation: spinner 0.8s linear infinite;
        }

        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-sm sticky top-0 z-50 transition-all duration-300" id="header">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <!-- 左侧Logo区域 -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 rounded-lg bg-gradient-primary flex items-center justify-center text-white">
                        <i class="fa fa-heartbeat text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-dark hidden sm:block">慢病健康监测系统</h1>
                        <p class="text-xs text-gray-custom hidden md:block">智能·精准·个性化健康管理</p>
                    </div>
                </div>

                <!-- 中间搜索栏（桌面端） -->
                <div class="hidden md:flex items-center flex-1 max-w-md mx-8">
                    <div class="relative w-full">
                        <input type="text" placeholder="搜索健康知识、用药指南..." 
                               class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all">
                        <i class="fa fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-custom"></i>
                    </div>
                </div>

                <!-- 右侧功能区 -->
                <div class="flex items-center space-x-4">
                    <!-- 消息通知 -->
                    <div class="relative">
                        <button class="w-10 h-10 rounded-full flex items-center justify-center text-gray-custom hover:bg-gray-100 transition-colors" id="notificationBtn">
                            <i class="fa fa-bell-o text-xl"></i>
                            <span class="absolute -top-1 -right-1 w-4 h-4 bg-danger rounded-full flex items-center justify-center text-white text-xs">2</span>
                        </button>
                    </div>

                    <!-- 快捷咨询 -->
                    <button class="hidden sm:flex items-center space-x-1 px-3 py-1.5 bg-primary/10 text-primary rounded-full text-sm hover:bg-primary/20 transition-colors">
                        <i class="fa fa-comments-o"></i>
                        <span>在线咨询</span>
                    </button>

                    <!-- 用户信息 -->
                    <div class="flex items-center space-x-2 group">
                        <img src="https://picsum.photos/id/64/40/40" alt="用户头像" 
                             class="w-10 h-10 rounded-full object-cover border-2 border-transparent group-hover:border-primary transition-colors">
                        <div class="hidden md:block">
                            <p class="text-sm font-medium">钮祜禄</p>
                        </div>
                        <i class="fa fa-angle-down text-gray-custom hidden md:block"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- 二级导航栏（桌面端） -->
        <div class="hidden md:block border-t border-gray-100 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <nav class="flex items-center space-x-8">
                    <a href="#" class="py-3 px-1 border-b-2 border-primary text-primary font-medium">首页</a>
                    <a href="#" class="py-3 px-1 border-b-2 border-transparent text-gray-custom font-medium hover:text-primary hover:border-primary/30 transition-colors">健康数据</a>
                    <a href="#" class="py-3 px-1 border-b-2 border-transparent text-gray-custom font-medium hover:text-primary hover:border-primary/30 transition-colors">慢病管理</a>
                    <a href="#" class="py-3 px-1 border-b-2 border-transparent text-gray-custom font-medium hover:text-primary hover:border-primary/30 transition-colors">用药管理</a>
                    <a href="#" class="py-3 px-1 border-b-2 border-transparent text-gray-custom font-medium hover:text-primary hover:border-primary/30 transition-colors">健康报告</a>
                    <a href="#" class="py-3 px-1 border-b-2 border-transparent text-gray-custom font-medium hover:text-primary hover:border-primary/30 transition-colors">医疗服务</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- 通知弹窗 -->
    <div class="fixed top-20 right-4 w-80 bg-white rounded-xl shadow-lg p-4 z-50 hidden animate-fade-in" id="notificationPanel">
        <div class="flex justify-between items-center mb-3">
            <h3 class="font-bold text-lg">消息通知</h3>
            <button class="text-gray-custom hover:text-dark" id="closeNotification">
                <i class="fa fa-times"></i>
            </button>
        </div>
        <div class="space-y-3 max-h-80 overflow-y-auto scrollbar-hide">
            <div class="border-b border-gray-100 pb-3">
                <div class="flex items-start">
                    <div class="w-8 h-8 rounded-full bg-danger/10 flex items-center justify-center text-danger mr-3 flex-shrink-0">
                        <i class="fa fa-exclamation-circle"></i>
                    </div>
                    <div>
                        <p class="text-sm font-medium">血糖异常预警</p>
                        <p class="text-xs text-gray-custom mt-1">当前血糖8.2mmol/L，高于正常范围，建议补充降糖药并1小时后复测</p>
                        <p class="text-xs text-gray-400 mt-1">10分钟前</p>
                    </div>
                </div>
            </div>
            <div class="border-b border-gray-100 pb-3">
                <div class="flex items-start">
                    <div class="w-8 h-8 rounded-full bg-warning/10 flex items-center justify-center text-warning mr-3 flex-shrink-0">
                        <i class="fa fa-calendar-check-o"></i>
                    </div>
                    <div>
                        <p class="text-sm font-medium">用药提醒</p>
                        <p class="text-xs text-gray-custom mt-1">请服用二甲双胍（0.5g），已为您记录用药时间</p>
                        <p class="text-xs text-gray-400 mt-1">2小时前</p>
                    </div>
                </div>
            </div>
            <div>
                <div class="flex items-start">
                    <div class="w-8 h-8 rounded-full bg-info/10 flex items-center justify-center text-info mr-3 flex-shrink-0">
                        <i class="fa fa-bell-o"></i>
                    </div>
                    <div>
                        <p class="text-sm font-medium">健康小贴士</p>
                        <p class="text-xs text-gray-custom mt-1">糖尿病患者夏季需注意补水，避免脱水影响血糖控制</p>
                        <p class="text-xs text-gray-400 mt-1">昨天</p>
                    </div>
                </div>
            </div>
        </div>
        <button class="w-full py-2 text-center text-primary text-sm mt-3 hover:text-secondary transition-colors">
            查看全部消息
        </button>
    </div>

    <!-- 主体内容区 -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <!-- 页面状态提示 -->
        <div class="bg-primary/5 border border-primary/20 rounded-lg p-4 mb-6 flex items-center">
            <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary mr-4 flex-shrink-0">
                <i class="fa fa-info-circle text-xl"></i>
            </div>
            <div>
                <p class="text-sm font-medium text-dark">今日健康状态评估</p>
                <p class="text-xs text-gray-custom">血糖指标偏高（8.2mmol/L），已为您生成针对性饮食和运动建议，请及时查看</p>
            </div>
            <button class="ml-auto text-gray-custom hover:text-dark" id="closeStatusTip">
                <i class="fa fa-times"></i>
            </button>
        </div>

        <!-- 快捷功能栏 -->
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-8">
            <div class="bg-white rounded-xl p-4 card-shadow hover-scale card-shadow-hover flex flex-col items-center justify-center text-center">
                <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mb-2 transition-colors hover:bg-primary/20">
                    <i class="fa fa-stethoscope text-xl"></i>
                </div>
                <h3 class="font-medium text-sm">快速检测</h3>
                <p class="text-xs text-gray-custom mt-1">10项基础指标</p>
            </div>
            <div class="bg-white rounded-xl p-4 card-shadow hover-scale card-shadow-hover flex flex-col items-center justify-center text-center">
                <div class="w-12 h-12 rounded-full bg-success/10 flex items-center justify-center text-success mb-2 transition-colors hover:bg-success/20">
                    <i class="fa fa-calendar-check-o text-xl"></i>
                </div>
                <h3 class="font-medium text-sm">用药打卡</h3>
                <p class="text-xs text-gray-custom mt-1">今日已完成</p>
            </div>
            <div class="bg-white rounded-xl p-4 card-shadow hover-scale card-shadow-hover flex flex-col items-center justify-center text-center">
                <div class="w-12 h-12 rounded-full bg-warning/10 flex items-center justify-center text-warning mb-2 transition-colors hover:bg-warning/20">
                    <i class="fa fa-cutlery text-xl"></i>
                </div>
                <h3 class="font-medium text-sm">饮食记录</h3>
                <p class="text-xs text-gray-custom mt-1">今日未记录</p>
            </div>
            <div class="bg-white rounded-xl p-4 card-shadow hover-scale card-shadow-hover flex flex-col items-center justify-center text-center">
                <div class="w-12 h-12 rounded-full bg-info/10 flex items-center justify-center text-info mb-2 transition-colors hover:bg-info/20">
                    <i class="fa fa-heartbeat text-xl"></i>
                </div>
                <h3 class="font-medium text-sm">运动记录</h3>
                <p class="text-xs text-gray-custom mt-1">今日0分钟</p>
            </div>
            <div class="bg-white rounded-xl p-4 card-shadow hover-scale card-shadow-hover flex flex-col items-center justify-center text-center">
                <div class="w-12 h-12 rounded-full bg-danger/10 flex items-center justify-center text-danger mb-2 transition-colors hover:bg-danger/20">
                    <i class="fa fa-user-md text-xl"></i>
                </div>
                <h3 class="font-medium text-sm">在线咨询</h3>
                <p class="text-xs text-gray-custom mt-1">联系我的药师</p>
            </div>
            <div class="bg-white rounded-xl p-4 card-shadow hover-scale card-shadow-hover flex flex-col items-center justify-center text-center">
                <div class="w-12 h-12 rounded-full bg-secondary/10 flex items-center justify-center text-secondary mb-2 transition-colors hover:bg-secondary/20">
                    <i class="fa fa-file-text-o text-xl"></i>
                </div>
                <h3 class="font-medium text-sm">健康报告</h3>
                <p class="text-xs text-gray-custom mt-1">生成月度报告</p>
            </div>
        </div>

        <!-- 核心数据监测区 -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
            <!-- 核心指标卡片 -->
            <div class="bg-white rounded-xl p-5 card-shadow hover-scale">
                <div class="flex justify-between items-center mb-5">
                    <h2 class="text-lg font-bold text-dark flex items-center">
                        <i class="fa fa-tachometer mr-2 text-primary"></i>核心监测指标
                    </h2>
                    <button class="text-sm text-primary flex items-center hover:text-secondary transition-colors" id="refreshCoreData">
                        <i class="fa fa-refresh mr-1"></i> 刷新
                    </button>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <!-- 血糖卡片（异常） -->
                    <div class="bg-white border border-danger rounded-lg p-3 pulse-animation hover:shadow-md transition-shadow">
                        <div class="flex justify-between items-start">
                            <span class="text-sm text-gray-custom">血糖</span>
                            <span class="text-xs bg-danger/10 text-danger px-2 py-0.5 rounded-full">异常</span>
                        </div>
                        <div class="flex items-end space-x-1 mt-2">
                            <span class="text-2xl font-bold text-danger">8.2</span>
                            <span class="text-sm text-gray-custom mb-1">mmol/L</span>
                        </div>
                        <div class="w-full bg-gray-100 h-1.5 rounded-full mt-2 overflow-hidden">
                            <div class="bg-danger h-full rounded-full progress-bar" style="width: 82%"></div>
                        </div>
                        <p class="text-xs text-gray-custom mt-1">正常范围：3.9-6.1</p>
                        <button class="w-full mt-2 text-xs text-primary hover:text-secondary transition-colors">
                            查看历史数据
                        </button>
                    </div>
                    <!-- 血压卡片 -->
                    <div class="bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow">
                        <div class="flex justify-between items-start">
                            <span class="text-sm text-gray-custom">血压</span>
                            <span class="text-xs bg-success/10 text-success px-2 py-0.5 rounded-full">正常</span>
                        </div>
                        <div class="flex items-end space-x-1 mt-2">
                            <span class="text-2xl font-bold text-dark">125/80</span>
                            <span class="text-sm text-gray-custom mb-1">mmHg</span>
                        </div>
                        <div class="w-full bg-gray-100 h-1.5 rounded-full mt-2 overflow-hidden">
                            <div class="bg-success h-full rounded-full progress-bar" style="width: 60%"></div>
                        </div>
                        <p class="text-xs text-gray-custom mt-1">正常范围：90-140/60-90</p>
                        <button class="w-full mt-2 text-xs text-primary hover:text-secondary transition-colors">
                            查看历史数据
                        </button>
                    </div>
                    <!-- 心率卡片 -->
                    <div class="bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow">
                        <div class="flex justify-between items-start">
                            <span class="text-sm text-gray-custom">心率</span>
                            <span class="text-xs bg-success/10 text-success px-2 py-0.5 rounded-full">正常</span>
                        </div>
                        <div class="flex items-end space-x-1 mt-2">
                            <span class="text-2xl font-bold text-dark">78</span>
                            <span class="text-sm text-gray-custom mb-1">bpm</span>
                        </div>
                        <div class="w-full bg-gray-100 h-1.5 rounded-full mt-2 overflow-hidden">
                            <div class="bg-success h-full rounded-full progress-bar" style="width: 50%"></div>
                        </div>
                        <p class="text-xs text-gray-custom mt-1">正常范围：60-100</p>
                        <button class="w-full mt-2 text-xs text-primary hover:text-secondary transition-colors">
                            查看历史数据
                        </button>
                    </div>
                    <!-- 血氧卡片 -->
                    <div class="bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow">
                        <div class="flex justify-between items-start">
                            <span class="text-sm text-gray-custom">血氧</span>
                            <span class="text-xs bg-success/10 text-success px-2 py-0.5 rounded-full">正常</span>
                        </div>
                        <div class="flex items-end space-x-1 mt-2">
                            <span class="text-2xl font-bold text-dark">98</span>
                            <span class="text-sm text-gray-custom mb-1">%</span>
                        </div>
                        <div class="w-full bg-gray-100 h-1.5 rounded-full mt-2 overflow-hidden">
                            <div class="bg-success h-full rounded-full progress-bar" style="width: 90%"></div>
                        </div>
                        <p class="text-xs text-gray-custom mt-1">正常范围：95-100</p>
                        <button class="w-full mt-2 text-xs text-primary hover:text-secondary transition-colors">
                            查看历史数据
                        </button>
                    </div>
                </div>
                <div class="mt-4">
                    <button class="w-full py-2 border border-primary text-primary rounded-lg text-sm hover:bg-primary/5 transition-colors flex items-center justify-center">
                        <i class="fa fa-plus mr-1"></i> 添加更多监测指标
                    </button>
                </div>
            </div>
















             <!-- 健康趋势图表 -->
            <div class="bg-white rounded-xl p-5 card-shadow hover-scale lg:col-span-2">
                <div class="flex flex-wrap justify-between items-center mb-5">
                    <h2 class="text-lg font-bold text-dark flex items-center">
                        <i class="fa fa-line-chart mr-2 text-primary"></i>健康趋势分析
                    </h2>
                    <div class="flex space-x-2 mt-2 sm:mt-0">
                        <button class="chart-period-btn text-xs px-3 py-1.5 bg-primary text-white rounded-full" data-period="day">日</button>
                        <button class="chart-period-btn text-xs px-3 py-1.5 bg-gray-100 text-gray-custom rounded-full hover:bg-gray-200 transition-colors" data-period="week">周</button>
                        <button class="chart-period-btn text-xs px-3 py-1.5 bg-gray-100 text-gray-custom rounded-full hover:bg-gray-200 transition-colors" data-period="month">月</button>
                        <button class="chart-period-btn text-xs px-3 py-1.5 bg-gray-100 text-gray-custom rounded-full hover:bg-gray-200 transition-colors" data-period="year">年</button>
                    </div>
                </div>
				<img src="https://www.ttq.so/upload/article/20170109/20170109163540_90302.png" height="50px">
                <div class="mt-4 flex justify-end">
                    <button class="text-sm text-primary hover:text-secondary transition-colors flex items-center">
                        查看完整趋势分析 <i class="fa fa-angle-right ml-1"></i>
                    </button>
                </div>
            </div> 
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
        </div>
        <!-- 功能模块区 -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <!-- 健康档案模块 -->
            <div class="bg-white rounded-xl p-5 card-shadow hover-scale">
                <h2 class="text-lg font-bold text-dark mb-4 flex items-center">
                    <i class="fa fa-user-circle mr-2 text-primary"></i>我的健康档案
                </h2>
                <div class="space-y-4">
                    <div class="bg-gray-50 rounded-lg p-3">
                        <h3 class="text-sm font-medium text-gray-custom mb-2">基础信息</h3>
                        <div class="grid grid-cols-2 gap-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-custom">姓名：</span>
                                <span class="font-medium">钮祜禄</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-custom">性别：</span>
                                <span class="font-medium">男</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-custom">年龄：</span>
                                <span class="font-medium">58岁</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-custom">身高：</span>
                                <span class="font-medium">175cm</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-custom">体重：</span>
                                <span class="font-medium">72kg</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-custom">BMI：</span>
                                <span class="font-medium">23.5</span>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <h3 class="text-sm font-medium text-gray-custom mb-2">慢病信息</h3>
                        <div class="text-sm space-y-1">
                            <div class="flex justify-between">
                                <span class="text-gray-custom">疾病类型：</span>
                                <span class="font-medium text-danger">2型糖尿病</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-custom">患病时长：</span>
                                <span class="font-medium">5年</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-custom">当前状态：</span>
                                <span class="font-medium text-warning">需加强控制</span>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <h3 class="text-sm font-medium text-gray-custom mb-2">用药信息</h3>
                        <div class="text-sm space-y-2">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="font-medium">二甲双胍</p>
                                    <p class="text-xs text-gray-custom">0.5g/次，每日2次</p>
                                </div>
                                <span class="text-xs bg-success/10 text-success px-2 py-0.5 rounded-full">按时服用</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="font-medium">格列齐特</p>
                                    <p class="text-xs text-gray-custom">80mg/次，每日1次</p>
                                </div>
                                <span class="text-xs bg-success/10 text-success px-2 py-0.5 rounded-full">按时服用</span>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="w-full py-2 border border-primary text-primary rounded-lg text-sm hover:bg-primary/5 transition-colors mt-4">
                    查看完整档案
                </button>
            </div>

            <!-- 异常预警模块 -->
            <div class="bg-white rounded-xl p-5 card-shadow hover-scale">
                <h2 class="text-lg font-bold text-dark mb-4 flex items-center">
                    <i class="fa fa-bell mr-2 text-primary"></i>异常预警记录
                </h2>
                <div class="space-y-3 max-h-64 overflow-y-auto scrollbar-hide pr-1">
                    <div class="border-l-2 border-danger pl-3 py-1 hover:bg-gray-50 rounded-r-lg transition-colors p-1">
                        <div class="flex justify-between items-start">
                            <h3 class="text-sm font-medium text-danger">血糖异常</h3>
                            <span class="text-xs text-gray-400">2025-05-15 10:30</span>
                        </div>
                        <p class="text-xs text-gray-custom mt-1">当前血糖8.2mmol/L，高于正常范围，建议补充降糖药并1小时后复测</p>
                        <div class="flex space-x-2 mt-2">
                            <button class="text-xs px-2 py-1 bg-danger/10 text-danger rounded-full hover:bg-danger/20 transition-colors">
                                已阅读
                            </button>
                            <button class="text-xs px-2 py-1 bg-primary/10 text-primary rounded-full hover:bg-primary/20 transition-colors">
                                查看详情
                            </button>
                        </div>
                    </div>
                    <div class="border-l-2 border-warning pl-3 py-1 hover:bg-gray-50 rounded-r-lg transition-colors p-1">
                        <div class="flex justify-between items-start">
                            <h3 class="text-sm font-medium text-warning">用药提醒</h3>
                            <span class="text-xs text-gray-400">2025-05-15 08:00</span>
                        </div>
                        <p class="text-xs text-gray-custom mt-1">请服用二甲双胍（0.5g），已为您记录用药时间</p>
                        <div class="flex space-x-2 mt-2">
                            <button class="text-xs px-2 py-1 bg-success/10 text-success rounded-full hover:bg-success/20 transition-colors">
                                已完成
                            </button>
                        </div>
                    </div>
                    <div class="border-l-2 border-danger pl-3 py-1 hover:bg-gray-50 rounded-r-lg transition-colors p-1">
                        <div class="flex justify-between items-start">
                            <h3 class="text-sm font-medium text-danger">血糖异常</h3>
                            <span class="text-xs text-gray-400">2025-05-14 18:20</span>
                        </div>
                        <p class="text-xs text-gray-custom mt-1">当前血糖7.8mmol/L，高于正常范围，建议减少晚餐主食摄入</p>
                        <div class="flex space-x-2 mt-2">
                            <button class="text-xs px-2 py-1 bg-success/10 text-success rounded-full hover:bg-success/20 transition-colors">
                                已处理
                            </button>
                        </div>
                    </div>
                    <div class="border-l-2 border-info pl-3 py-1 hover:bg-gray-50 rounded-r-lg transition-colors p-1">
                        <div class="flex justify-between items-start">
                            <h3 class="text-sm font-medium text-info">体检提醒</h3>
                            <span class="text-xs text-gray-400">2025-05-12 09:15</span>
                        </div>
                        <p class="text-xs text-gray-custom mt-1">您的糖尿病专项体检已到期，请及时预约体检服务</p>
                        <div class="flex space-x-2 mt-2">
                            <button class="text-xs px-2 py-1 bg-primary/10 text-primary rounded-full hover:bg-primary/20 transition-colors">
                                立即预约
                            </button>
                        </div>
                    </div>
                </div>
                <button class="w-full py-2 border border-gray-200 text-gray-custom rounded-lg text-sm hover:bg-gray-50 transition-colors mt-4">
                    查看全部预警
                </button>
            </div>

            <!-- 个性化指导模块 -->
            <div class="bg-white rounded-xl p-5 card-shadow hover-scale">
                <h2 class="text-lg font-bold text-dark mb-4 flex items-center">
                    <i class="fa fa-lightbulb-o mr-2 text-primary"></i>今日健康指导
                </h2>
                <div class="space-y-4">
                    <div class="flex items-start bg-primary/5 rounded-lg p-3 hover:bg-primary/10 transition-colors">
                        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary mt-0.5 mr-3 flex-shrink-0">
                            <i class="fa fa-medkit"></i>
                        </div>
                        <div>
                            <h3 class="text-sm font-medium">用药建议</h3>
                            <p class="text-xs text-gray-custom mt-0.5">今日18:00需服用格列齐特（80mg），记得随餐服用，避免空腹。服药后请注意监测血糖变化。</p>
                            <div class="flex items-center mt-2">
                                <button class="text-xs bg-primary text-white px-3 py-1 rounded-full hover:bg-secondary transition-colors mr-2">
                                    设为提醒
                                </button>
                                <button class="text-xs text-primary hover:text-secondary transition-colors">
                                    查看用药详情
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-start bg-warning/5 rounded-lg p-3 hover:bg-warning/10 transition-colors">
                        <div class="w-10 h-10 rounded-full bg-warning/10 flex items-center justify-center text-warning mt-0.5 mr-3 flex-shrink-0">
                            <i class="fa fa-cutlery"></i>
                        </div>
                        <div>
                            <h3 class="text-sm font-medium">饮食建议</h3>
                            <p class="text-xs text-gray-custom mt-0.5">今日血糖偏高，晚餐建议选择杂粮饭（50g）+ 清蒸鱼（100g）+ 绿叶蔬菜（200g），避免高糖、高油食物。</p>
                            <div class="flex items-center mt-2">
                                <button class="text-xs bg-warning text-white px-3 py-1 rounded-full hover:bg-warning/90 transition-colors mr-2">
                                    生成食谱
                                </button>
                                <button class="text-xs text-primary hover:text-secondary transition-colors">
                                    记录饮食
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-start bg-success/5 rounded-lg p-3 hover:bg-success/10 transition-colors">
                        <div class="w-10 h-10 rounded-full bg-success/10 flex items-center justify-center text-success mt-0.5 mr-3 flex-shrink-0">
                            <i class="fa fa-heartbeat"></i>
                        </div>
                        <div>
                            <h3 class="text-sm font-medium">运动建议</h3>
                            <p class="text-xs text-gray-custom mt-0.5">餐后1小时可进行20分钟散步，速度以不喘粗气为宜。避免剧烈运动，运动过程中如出现头晕、心慌请立即停止休息。</p>
                            <div class="flex items-center mt-2">
                                <button class="text-xs bg-success text-white px-3 py-1 rounded-full hover:bg-success/90 transition-colors mr-2">
                                    开始运动
                                </button>
                                <button class="text-xs text-primary hover:text-secondary transition-colors">
                                    查看运动计划
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="w-full py-2 bg-primary text-white rounded-lg text-sm hover:bg-secondary transition-colors mt-4 flex items-center justify-center">
                    <i class="fa fa-calendar-plus-o mr-1"></i> 生成7天健康计划
                </button>
            </div>

            <!-- 运动记录模块 -->
            <div class="bg-white rounded-xl p-5 card-shadow hover-scale">
                <h2 class="text-lg font-bold text-dark mb-4 flex items-center">
                    <i class="fa fa-bolt mr-2 text-primary"></i>运动记录
                </h2>
                <div class="bg-gray-50 rounded-lg p-3 mb-4">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-sm font-medium">今日运动目标</h3>
                        <span class="text-xs text-gray-custom">30分钟</span>
                    </div>
                    <div class="w-full bg-gray-200 h-2 rounded-full mb-2 overflow-hidden">
                        <div class="bg-primary h-full progress-bar" style="width: 0%"></div>
                    </div>
                    <div class="flex justify-between text-xs text-gray-custom">
                        <span>已完成：0分钟</span>
                        <span>进度：0%</span>
                    </div>
                </div>
                <div class="space-y-3 mb-4">
                    <h3 class="text-sm font-medium text-gray-custom">推荐运动</h3>
                    <div class="grid grid-cols-2 gap-2">
                        <div class="bg-white border border-gray-200 rounded-lg p-2 hover:border-primary transition-colors cursor-pointer">
                            <div class="flex items-center justify-center text-primary mb-1">
                                <i class="fa fa-male text-xl"></i>
                            </div>
                            <p class="text-xs font-medium text-center">散步</p>
                            <p class="text-xs text-gray-custom text-center">20-30分钟</p>
                        </div>
                        <div class="bg-white border border-gray-200 rounded-lg p-2 hover:border-primary transition-colors cursor-pointer">
                            <div class="flex items-center justify-center text-primary mb-1">
                                <i class="fa fa-bicycle text-xl"></i>
                            </div>
                            <p class="text-xs font-medium text-center">慢骑</p>
                            <p class="text-xs text-gray-custom text-center">15-20分钟</p>
                        </div>
                        <div class="bg-white border border-gray-200 rounded-lg p-2 hover:border-primary transition-colors cursor-pointer">
                            <div class="flex items-center justify-center text-primary mb-1">
                                <i class="fa fa-tint text-xl"></i>
                            </div>
                            <p class="text-xs font-medium text-center">游泳</p>
                            <p class="text-xs text-gray-custom text-center">10-15分钟</p>
                        </div>
                        <div class="bg-white border border-gray-200 rounded-lg p-2 hover:border-primary transition-colors cursor-pointer">
                            <div class="flex items-center justify-center text-primary mb-1">
                                <i class="fa fa-music text-xl"></i>
                            </div>
                            <p class="text-xs font-medium text-center">太极</p>
                            <p class="text-xs text-gray-custom text-center">20-30分钟</p>
                        </div>
                    </div>
                </div>
                <div class="space-y-3">
                    <h3 class="text-sm font-medium text-gray-custom">近期运动记录</h3>
                    <div class="text-xs space-y-2">
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <i class="fa fa-male text-primary mr-2"></i>
                                <span>散步</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-gray-custom mr-2">25分钟</span>
                                <span class="text-success">完成</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <i class="fa fa-bicycle text-primary mr-2"></i>
                                <span>慢骑</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-gray-custom mr-2">20分钟</span>
                                <span class="text-success">完成</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <i class="fa fa-male text-primary mr-2"></i>
                                <span>散步</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-gray-custom mr-2">30分钟</span>
                                <span class="text-success">完成</span>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="w-full py-2 border border-primary text-primary rounded-lg text-sm hover:bg-primary/5 transition-colors mt-4">
                    记录今日运动
                </button>
            </div>
        </div>

        <!-- 健康报告与医疗服务 -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- 健康报告模块 -->
            <div class="bg-white rounded-xl p-5 card-shadow hover-scale lg:col-span-2">
                <div class="flex justify-between items-center mb-5">
                    <h2 class="text-lg font-bold text-dark flex items-center">
                        <i class="fa fa-file-text-o mr-2 text-primary"></i>健康报告中心
                    </h2>
                    <button class="text-sm bg-primary text-white px-3 py-1.5 rounded-lg hover:bg-secondary transition-colors">
                        生成最新报告
                    </button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-sm font-medium">月度健康报告</h3>
                            <span class="text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full">最新</span>
                        </div>
                        <p class="text-xs text-gray-custom mb-3">2025年4月糖尿病健康管理报告，包含血糖、血压等指标分析及下月管理建议</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-gray-400">生成时间：2025-05</span>
                            <div class="flex space-x-2">
                                <button class="text-xs text-primary hover:text-secondary transition-colors">
                                    <i class="fa fa-download mr-1"></i> 下载
                                </button>
                                <button class="text-xs text-primary hover:text-secondary transition-colors">
                                    <i class="fa fa-eye mr-1"></i> 查看
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-sm font-medium">血糖专项分析</h3>
                            <span class="text-xs bg-gray-100 text-gray-custom px-2 py-0.5 rounded-full">历史</span>
                        </div>
                        <p class="text-xs text-gray-custom mb-3">2025年3-4月血糖变化趋势分析，包含饮食、运动对血糖的影响评估</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-gray-400">生成时间：2025-04</span>
                            <div class="flex space-x-2">
                                <button class="text-xs text-primary hover:text-secondary transition-colors">
                                    <i class="fa fa-download mr-1"></i> 下载
                                </button>
                                <button class="text-xs text-primary hover:text-secondary transition-colors">
                                    <i class="fa fa-eye mr-1"></i> 查看
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-sm font-medium">年度健康总结</h3>
                            <span class="text-xs bg-gray-100 text-gray-custom px-2 py-0.5 rounded-full">历史</span>
                        </div>
                        <p class="text-xs text-gray-custom mb-3">2024年度糖尿病健康管理总结，包含各项指标控制情况及2025年管理计划</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-gray-400">生成时间：2025-01</span>
                            <div class="flex space-x-2">
                                <button class="text-xs text-primary hover:text-secondary transition-colors">
                                    <i class="fa fa-download mr-1"></i> 下载
                                </button>
                                <button class="text-xs text-primary hover:text-secondary transition-colors">
                                    <i class="fa fa-eye mr-1"></i> 查看
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <h3 class="text-sm font-medium mb-3">健康评估摘要</h3>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 text-sm">
                            <div class="text-center">
                                <div class="text-primary text-xl font-bold mb-1">78分</div>
                                <div class="text-gray-custom text-xs">综合健康评分</div>
                            </div>
                            <div class="text-center">
                                <div class="text-warning text-xl font-bold mb-1">65%</div>
                                <div class="text-gray-custom text-xs">血糖控制达标率</div>
                            </div>
                            <div class="text-center">
                                <div class="text-success text-xl font-bold mb-1">92%</div>
                                <div class="text-gray-custom text-xs">用药依从性</div>
                            </div>
                            <div class="text-center">
                                <div class="text-info text-xl font-bold mb-1">85%</div>
                                <div class="text-gray-custom text-xs">生活方式健康度</div>
                            </div>
                        </div>
                        <div class="mt-4 text-xs text-gray-custom">
                            <p>评估结论：整体健康状况良好，但血糖控制仍需加强。建议严格遵守饮食和运动计划，按时服药，定期监测血糖变化。如有异常，请及时联系医生调整治疗方案。</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 医疗服务模块 -->
            <div class="bg-white rounded-xl p-5 card-shadow hover-scale">
                <h2 class="text-lg font-bold text-dark mb-4 flex items-center">
                    <i class="fa fa-hospital-o mr-2 text-primary"></i>医疗服务
                </h2>
                <div class="space-y-4">
                    <div class="bg-primary/5 rounded-lg p-3 hover:bg-primary/10 transition-colors cursor-pointer">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary mr-3 flex-shrink-0">
                                <i class="fa fa-comments-o text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-sm font-medium">在线咨询</h3>
                                <p class="text-xs text-gray-custom">联系我的专属药师/医生</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-success/5 rounded-lg p-3 hover:bg-success/10 transition-colors cursor-pointer">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-success/10 flex items-center justify-center text-success mr-3 flex-shrink-0">
                                <i class="fa fa-calendar-plus-o text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-sm font-medium">体检预约</h3>
                                <p class="text-xs text-gray-custom">糖尿病专项体检套餐</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-info/5 rounded-lg p-3 hover:bg-info/10 transition-colors cursor-pointer">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-info/10 flex items-center justify-center text-info mr-3 flex-shrink-0">
                                <i class="fa fa-stethoscope text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-sm font-medium">慢病随访</h3>
                                <p class="text-xs text-gray-custom">社区医生定期随访服务</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-warning/5 rounded-lg p-3 hover:bg-warning/10 transition-colors cursor-pointer">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-warning/10 flex items-center justify-center text-warning mr-3 flex-shrink-0">
                                <i class="fa fa-medkit text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-sm font-medium">药品配送</h3>
                                <p class="text-xs text-gray-custom">处方药品配送到家</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <h3 class="text-sm font-medium text-gray-custom mb-3">我的专属医生</h3>
                    <div class="flex items-center bg-gray-50 rounded-lg p-3">
                        <img src="https://picsum.photos/id/1005/40/40" alt="医生头像" class="w-12 h-12 rounded-full object-cover mr-3">
                        <div>
                            <h4 class="text-sm font-medium">李医生</h4>
                            <p class="text-xs text-gray-custom">主任医师</p>
                            <p class="text-xs text-success mt-1">已接诊您5年</p>
                        </div>
                        <button class="ml-auto text-xs bg-primary text-white px-3 py-1 rounded-full hover:bg-secondary transition-colors">
                            立即咨询
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 底部导航栏（移动端） -->
    <footer class="fixed bottom-0 left-0 right-0 bg-white shadow-lg md:hidden z-40 border-t border-gray-100">
        <div class="flex justify-around items-center py-3">
            <a href="#" class="flex flex-col items-center justify-center text-primary">
                <i class="fa fa-home text-xl"></i>
                <span class="text-xs mt-1">首页</span>
            </a>
            <a href="#" class="flex flex-col items-center justify-center text-gray-custom">
                <i class="fa fa-line-chart text-xl"></i>
                <span class="text-xs mt-1">数据</span>
            </a>
            <a href="#" class="flex flex-col items-center justify-center text-gray-custom">
                <i class="fa fa-plus-circle text-xl text-primary bg-primary/10 w-12 h-12 rounded-full flex items-center justify-center -mt-6"></i>
                <span class="text-xs mt-1">添加</span>
            </a>
            <a href="#" class="flex flex-col items-center justify-center text-gray-custom">
                <i class="fa fa-calendar text-xl"></i>
                <span class="text-xs mt-1">计划</span>
            </a>
            <a href="#" class="flex flex-col items-center justify-center text-gray-custom">
                <i class="fa fa-user text-xl"></i>
                <span class="text-xs mt-1">我的</span>
            </a>
        </div>
    </footer>

    <!-- 加载中弹窗 -->
    <div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden" id="loadingModal">
        <div class="bg-white rounded-xl p-6 flex flex-col items-center">
            <div class="w-12 h-12 border-4 border-gray-200 border-t-primary rounded-full loader mb-4"></div>
            <h3 class="font-bold text-lg mb-2">加载中</h3>
            <p class="text-gray-custom text-sm" id="loadingText">正在获取最新健康数据...</p>
        </div>
    </div>

    <script>
        // 全局变量
        let bloodSugarChart, bloodPressureChart;
		let currentPeriod = 'day';

		// 模拟数据
		const chartData = {
		    day: {
		        bloodSugar: {
		            labels: ['06:00', '08:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00', '22:00'],
		            data: [6.8, 7.5, 8.2, 7.9, 6.5, 7.2, 8.2, 7.8, 6.9]
		        },
		        bloodPressure: {
		            labels: ['06:00', '08:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00', '22:00'],
		            systolic: [120, 125, 128, 124, 122, 125, 125, 123, 121],
		            diastolic: [78, 80, 82, 79, 78, 80, 80, 79, 78]
		        }
		    },
		    week: {
		        bloodSugar: {
		            labels: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],
		            data: [7.2, 7.8, 7.5, 7.9, 8.1, 7.4, 7.6]
		        },
		        bloodPressure: {
		            labels: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],
		            systolic: [122, 125, 123, 126, 128, 124, 122],
		            diastolic: [79, 80, 78, 81, 82, 79, 78]
		        }
		    },
		    month: {
		        bloodSugar: {
		            labels: ['第1周', '第2周', '第3周', '第4周'],
		            data: [7.5, 7.8, 7.2, 7.6]
		        },
		        bloodPressure: {
		            labels: ['第1周', '第2周', '第3周', '第4周'],
		            systolic: [124, 126, 123, 125],
		            diastolic: [79, 81, 78, 80]
		        }
		    },
		    year: {
		        bloodSugar: {
		            labels: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],
		            data: [7.8, 7.6, 7.9, 7.7, 7.5, 7.8, 7.4, 7.6, 7.3, 7.5, 7.7, 7.4]
		        },
		        bloodPressure: {
		            labels: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],
		            systolic: [126, 125, 127, 124, 123, 125, 122, 124, 121, 123, 125, 122],
		            diastolic: [81, 80, 82, 79, 78, 80, 77, 79, 76, 78, 80, 77]
		        }
		    }
		};
		
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化图表
            initCharts();
            
            // 绑定所有事件
            bindEvents();
            
            // 初始化页面动画
            initPageAnimations();
        });













        /**
         * 初始化图表
         */
        function initCharts() {
            // 血糖趋势图表
            const sugarCtx = document.getElementById('bloodSugarChart').getContext('2d');
            bloodSugarChart = new Chart(sugarCtx, {
                type: 'line',
                data: {
                    labels: chartData.day.bloodSugar.labels,
                    datasets: [{
                        label: '血糖值',
                        data: chartData.day.bloodSugar.data,
                        borderColor: '#EF4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#EF4444',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }, {
                        label: '正常上限',
                        data: Array(chartData.day.bloodSugar.data.length).fill(6.1),
                        borderColor: '#10B981',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        tension: 0,
                        pointRadius: 0,
                        fill: false
                    }, {
                        label: '正常下限',
                        data: Array(chartData.day.bloodSugar.data.length).fill(3.9),
                        borderColor: '#10B981',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        tension: 0,
                        pointRadius: 0,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                boxWidth: 8,
                                font: { size: 10 },
                                padding: 10,
                                usePointStyle: true,
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(0, 0, 0, 0.7)',
                            padding: 10,
                            titleFont: { size: 11 },
                            bodyFont: { size: 11 },
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += context.parsed.y.toFixed(1) + ' mmol/L';
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            min: 3,
                            max: 10,
                            title: {
                                display: true,
                                text: 'mmol/L',
                                font: { size: 10 },
                                color: '#64748B'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            },
                            ticks: {
                                font: { size: 10 },
                                color: '#64748B'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                font: { size: 10 },
                                color: '#64748B'
                            }
                        }
                    },
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        
            // 血压趋势图表
            const pressureCtx = document.getElementById('bloodPressureChart').getContext('2d');
            bloodPressureChart = new Chart(pressureCtx, {
                type: 'line',
                data: {
                    labels: chartData.day.bloodPressure.labels,
                    datasets: [{
                        label: '收缩压',
                        data: chartData.day.bloodPressure.systolic,
                        borderColor: '#2563EB',
                        backgroundColor: 'rgba(37, 99, 235, 0.1)',
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#2563EB',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }, {
                        label: '舒张压',
                        data: chartData.day.bloodPressure.diastolic,
                        borderColor: '#06B6D4',
                        backgroundColor: 'rgba(6, 182, 212, 0.1)',
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#06B6D4',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }, {
                        label: '收缩压正常上限',
                        data: Array(chartData.day.bloodPressure.systolic.length).fill(140),
                        borderColor: '#10B981',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        tension: 0,
                        pointRadius: 0,
                        fill: false
                    }, {
                        label: '舒张压正常上限',
                        data: Array(chartData.day.bloodPressure.diastolic.length).fill(90),
                        borderColor: '#10B981',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        tension: 0,
                        pointRadius: 0,
                        fill: false
                    }, {
                        label: '收缩压正常下限',
                        data: Array(chartData.day.bloodPressure.systolic.length).fill(90),
                        borderColor: '#10B981',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        tension: 0,
                        pointRadius: 0,
                        fill: false
                    }, {
                        label: '舒张压正常下限',
                        data: Array(chartData.day.bloodPressure.diastolic.length).fill(60),
                        borderColor: '#10B981',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        tension: 0,
                        pointRadius: 0,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                boxWidth: 8,
                                font: { size: 10 },
                                padding: 10,
                                usePointStyle: true,
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(0, 0, 0, 0.7)',
                            padding: 10,
                            titleFont: { size: 11 },
                            bodyFont: { size: 11 },
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        if (context.dataset.label.includes('收缩压') || context.dataset.label.includes('舒张压')) {
                                            label += context.parsed.y + ' mmHg';
                                        }
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            min: 50,
                            max: 150,
                            title: {
                                display: true,
                                text: 'mmHg',
                                font: { size: 10 },
                                color: '#64748B'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            },
                            ticks: {
                                font: { size: 10 },
                                color: '#64748B'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                font: { size: 10 },
                                color: '#64748B'
                            }
                        }
                    },
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }



















        /**
         * 绑定所有事件
         */
        function bindEvents() {
            // 通知面板相关
            document.getElementById('notificationBtn').addEventListener('click', toggleNotificationPanel);
            document.getElementById('closeNotification').addEventListener('click', closeNotificationPanel);

            // 关闭状态提示
            document.getElementById('closeStatusTip').addEventListener('click', function() {
                this.closest('.bg-primary\\/5').classList.add('hidden');
            });

            // 刷新核心数据
            document.getElementById('refreshCoreData').addEventListener('click', refreshCoreData);

            // 图表周期切换
            document.querySelectorAll('.chart-period-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.chart-period-btn').forEach(b => {
                        b.classList.remove('bg-primary', 'text-white');
                        b.classList.add('bg-gray-100', 'text-gray-custom');
                    });
                    this.classList.remove('bg-gray-100', 'text-gray-custom');
                    this.classList.add('bg-primary', 'text-white');
                    
                    // 切换图表数据
                    const period = this.getAttribute('data-period');
                    currentPeriod = period;
                    updateChartData(period);
                });
            });

            // 滚动事件（导航栏样式变化）
            window.addEventListener('scroll', function() {
                const header = document.getElementById('header');
                if (window.scrollY > 20) {
                    header.classList.add('shadow');
                } else {
                    header.classList.remove('shadow');
                }
            });
        }

        /**
         * 初始化页面动画
         */
        function initPageAnimations() {
            // 卡片渐入动画
            const cards = document.querySelectorAll('.card-shadow');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('animate-fade-in');
                }, 100 * index);
            });
        }

        /**
         * 切换通知面板显示/隐藏
         */
        function toggleNotificationPanel() {
            const panel = document.getElementById('notificationPanel');
            panel.classList.toggle('hidden');
        }

        /**
         * 关闭通知面板
         */
        function closeNotificationPanel() {
            document.getElementById('notificationPanel').classList.add('hidden');
        }

        /**
         * 刷新核心数据
         */
        function refreshCoreData() {
            // 显示加载弹窗
            const loadingModal = document.getElementById('loadingModal');
            loadingModal.classList.remove('hidden');
            
            // 模拟数据加载
            setTimeout(() => {
                // 随机生成新的血糖值（在7.5-8.5之间）
                const newSugar = (Math.random() * 1 + 7.5).toFixed(1);
                // 随机生成新的心率值（在75-85之间）
                const newHeartRate = Math.floor(Math.random() * 10 + 75);
                // 随机生成新的血压值
                const newSystolic = Math.floor(Math.random() * 10 + 120);
                const newDiastolic = Math.floor(Math.random() * 5 + 78);
                
                // 更新页面数据
                document.querySelectorAll('.text-2xl')[0].textContent = newSugar;
                document.querySelectorAll('.text-2xl')[1].textContent = `${newSystolic}/${newDiastolic}`;
                document.querySelectorAll('.text-2xl')[2].textContent = newHeartRate;
                
                // 更新进度条
                const sugarPercent = ((newSugar - 3.9) / (10 - 3.9) * 100).toFixed(0);
                document.querySelectorAll('.progress-bar')[0].style.width = `${sugarPercent}%`;
			}
		}
		
		/**
		 * 更新图表数据
		 */
		function updateChartData(period) {
		    // 更新血糖图表
		    bloodSugarChart.data.labels = chartData[period].bloodSugar.labels;
		    bloodSugarChart.data.datasets[0].data = chartData[period].bloodSugar.data;
		    bloodSugarChart.data.datasets[1].data = Array(chartData[period].bloodSugar.data.length).fill(6.1);
		    bloodSugarChart.data.datasets[2].data = Array(chartData[period].bloodSugar.data.length).fill(3.9);
		    
		    // 更新血压图表
		    bloodPressureChart.data.labels = chartData[period].bloodPressure.labels;
		    bloodPressureChart.data.datasets[0].data = chartData[period].bloodPressure.systolic;
		    bloodPressureChart.data.datasets[1].data = chartData[period].bloodPressure.diastolic;
		    bloodPressureChart.data.datasets[2].data = Array(chartData[period].bloodPressure.systolic.length).fill(140);
		    bloodPressureChart.data.datasets[3].data = Array(chartData[period].bloodPressure.diastolic.length).fill(90);
		    bloodPressureChart.data.datasets[4].data = Array(chartData[period].bloodPressure.systolic.length).fill(90);
		    bloodPressureChart.data.datasets[5].data = Array(chartData[period].bloodPressure.diastolic.length).fill(60);
		    
		    // 更新图表
		    bloodSugarChart.update();
		    bloodPressureChart.update();
		}
	</script>
</body>
</html>